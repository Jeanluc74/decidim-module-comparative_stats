<%= timeline [], id: "participatoryProcesses", height: "800px" %>
<script>
  (function() {
    var drawGraph = function() {
      var dataTable = new google.visualization.DataTable();
      dataTable.addColumn({ type: 'string', id: 'Platform' });
      dataTable.addColumn({ type: 'string', id: 'Process' });
      dataTable.addColumn({ type: 'date', id: 'Start' });
      dataTable.addColumn({ type: 'date', id: 'End' });
      var rows = [];
      <% timeline_graph.each do |row| %>
      rows.push([
        "<%= row[:name] %>",
        "<%= row[:title] %>",
        new Date("<%= row[:start_date] %>"),
        new Date("<%= row[:end_date] %>")
        ]);
      <% end %>
      dataTable.addRows(rows);
      var chart = Chartkick.charts["participatoryProcesses"];
      chart.getChartObject().draw(dataTable);
    }
    google.charts.setOnLoadCallback(drawGraph);
  }());
</script>
